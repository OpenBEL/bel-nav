<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- **************************************************************** -->
<!-- *  PLEASE KEEP COMPLICATED EXPRESSIONS OUT OF THESE TEMPLATES, * -->
<!-- *  i.e. only iterate & print data where possible. Thanks, Jez. * -->
<!-- **************************************************************** -->

<html>
<head>
<!-- Generated by groovydoc (2.1.7) on Thu Sep 05 22:49:35 CEST 2013 -->
<title>AutoClone (groovy 2.1.7 API)</title>
<meta name="date" content="2013-09-05">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="../../groovy.ico" type="image/x-icon" rel="shortcut icon">
<link href="../../groovy.ico" type="image/x-icon" rel="icon">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AutoClone (groovy 2.1.7 API)";
    }
}
</script>
<noscript>
</noscript>

</head><body onload="windowTitle();" bgcolor="white">
<hr>

<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>

  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <!--<TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  -->
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Groovy 2.1.7</b>
</EM></TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><!--<FONT SIZE="-2">
&nbsp;<A HREF="../../groovy/lang/ExpandoMetaClass.ExpandoMetaProperty.html" title="class in groovy.lang"><B>PREV CLASS</B></A>&nbsp;

&nbsp;<A HREF="../../groovy/lang/GroovyClassLoader.html" title="class in groovy.lang"><B>NEXT CLASS</B></A></FONT>--></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?groovy/transform/AutoClone.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AutoClone.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<script type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-frame.html"><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
  <A HREF="../../allclasses-frame.html"><B>All Classes</B></A>
</noscript>

</FONT></TD>

</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
SUMMARY:&nbsp;REQUIRED | <A HREF="#optional_element_summary">OPTIONAL</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#element_detail">ELEMENT</A></FONT></TD>
</TR>
</TABLE>
<!-- ========= END OF TOP NAVBAR ========= -->


<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>

<FONT SIZE="-1">
groovy.transform</FONT>
<BR>

<span CLASS="ClassTitleFont">[Java] Annotation Type AutoClone</span></H2>
<pre><a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html' title='java.lang.Object'>java.lang.Object</a>
  <img src='../../inherit.gif'>groovy.transform.AutoClone
</pre><hr>
<PRE>@<a href='http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/Retention.html' title='Retention'>Retention</a>(RetentionPolicy.RUNTIME)
@<a href='http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/Target.html' title='Target'>Target</a>({ElementType.TYPE})
@<a href='../../org/codehaus/groovy/transform/GroovyASTTransformationClass.html' title='GroovyASTTransformationClass'>GroovyASTTransformationClass</a>("org.codehaus.groovy.transform.AutoCloneASTTransformation")
public&nbsp;@interface AutoClone

</PRE>

<P>
 Note: This annotation is currently experimental! Use at your own risk!
 <p>
 Class annotation used to assist in the creation of <CODE>Cloneable</CODE> classes.
 The <CODE>@AutoClone</CODE> annotation instructs the compiler to execute an
 AST transformation which adds a public <CODE>clone()</CODE> method and adds
 <CODE>Cloneable</CODE> to the list of interfaces which the class implements.
 <p>
 Because the JVM doesn't have a one-size fits all cloning strategy, several
 customizations exist for the cloning implementation. By default, the <CODE>clone()</CODE>
 method will call <CODE>super.clone()</CODE> before calling <CODE>clone()</CODE> on each
 <CODE>Cloneable</CODE> property of the class.
 <p>
 Example usage:
 <pre>
 import groovy.transform.AutoClone
 <CODE>@AutoClone</CODE>
 class Person {
   String first, last
   List favItems
   Date since
 }
 </pre>
 Which will create a class of the following form:
 <pre>
 class Person implements Cloneable {
   ...
   public Object clone() throws CloneNotSupportedException {
     Object result = super.clone()
     result.favItems = favItems.clone()
     result.since = since.clone()
     return result
   }
   ...
 }
 </pre>
 Which can be used as follows:
 <pre>
 def p = new Person(first:'John', last:'Smith', favItems:['ipod', 'shiraz'], since:new Date())
 def p2 = p.clone()

 assert p instanceof Cloneable
 assert p.favItems instanceof Cloneable
 assert p.since instanceof Cloneable
 assert !(p.first instanceof Cloneable)

 assert !p.is(p2)
 assert !p.favItems.is(p2.favItems)
 assert !p.since.is(p2.since)
 assert p.first.is(p2.first)
 </pre>
 In the above example, <CODE>super.clone()</CODE> is called which in this case
 calls <CODE>clone()</CODE> from <CODE>java.lang.Object</CODE>. This does a bit-wise
 copy of all the properties (references and primitive values). Properties
 like <CODE>first</CODE> has type <CODE>String</CODE> which is not <CODE>Cloneable</CODE>
 so it is left as the bit-wise copy. Both <CODE>Date</CODE> and <CODE>ArrayList</CODE>
 are <CODE>Cloneable</CODE> so the <CODE>clone()</CODE> method on each of those properties
 will be called. For the list, a shallow copy is made during its <CODE>clone()</CODE> method.
 <p>
 If your classes require deep cloning, it is up to you to provide the appropriate
 deep cloning logic in the respective <CODE>clone()</CODE> method for your class.
 <p>
 If one of your properties contains an object that doesn't support cloning
 or attempts deep copying of a data structure containing an object that
 doesn't support cloning, then a <CODE>CloneNotSupportedException</CODE> may occur
 at runtime.
 <p>
 Another popular cloning strategy is known as the copy constructor pattern.
 If any of your fields are <CODE>final</CODE> and <CODE>Cloneable</CODE> you should set
 <CODE>style=COPY_CONSTRUCTOR</CODE> which will then use the copy constructor pattern.
 Here is an example making use of the copy constructor pattern:
 <pre>
 import groovy.transform.AutoClone
 import static groovy.transform.AutoCloneStyle.*
 <CODE>@AutoClone(style=COPY_CONSTRUCTOR)</CODE>
 class Person {
   final String first, last
   final Date birthday
 }
 <CODE>@AutoClone(style=COPY_CONSTRUCTOR)</CODE>
 class Customer extends Person {
   final int numPurchases
   final List favItems
 }
 </pre>
 Which will create classes of the following form:
 <pre>
 class Person implements Cloneable {
   ...
   protected Person(Person other) throws CloneNotSupportedException {
     first = other.first
     last = other.last
     birthday = other.birthday.clone()
   }
   public Object clone() throws CloneNotSupportedException {
     return new Person(this)
   }
   ...
 }
 class Customer extends Person {
   ...
   protected Customer(Customer other) throws CloneNotSupportedException {
     super(other)
     numPurchases = other.numPurchases
     favItems = other.favItems.clone()
   }
   public Object clone() throws CloneNotSupportedException {
     return new Customer(this)
   }
   ...
 }
 </pre>
 If you use this style on a child class, the parent class must
 also have a copy constructor (created using this annotation or by hand).
 This approach can be slightly slower than the traditional cloning approach
 but the <CODE>Cloneable</CODE> fields of your class can be final.
 <p>
 As a variation of the last two styles, if you set <CODE>style=SIMPLE</CODE>
 then the no-arg constructor will be called followed by setting the
 individual properties (and/or fields) calling <CODE>clone()</CODE> if the
 property/field implements <CODE>Cloneable</CODE>. Here is an example:
 <pre>
 import groovy.transform.AutoClone
 import static groovy.transform.AutoCloneStyle.*
 <CODE>@AutoClone(style=SIMPLE)</CODE>
 class Person {
   final String first, last
   final Date birthday
 }
 <CODE>@AutoClone(style=SIMPLE)</CODE>
 class Customer {
   final List favItems
 }
 </pre>
 Which will create classes as follows:
 <pre>
 class Person implements Cloneable {
   ...
   public Object clone() throws CloneNotSupportedException {
     def result = new Person()
     copyOrCloneMembers(result)
     return result
   }
   protected void copyOrCloneMembers(other) {
     other.first = first
     other.last = last
     other.birthday = birthday.clone()
   }
   ...
 }
 class Customer extends Person {
   ...
   public Object clone() throws CloneNotSupportedException {
     def result = new Customer()
     copyOrCloneMembers(result)
     return result
   }
   protected void copyOrCloneMembers(other) {
     super.copyOrCloneMembers(other)
     other.favItems = favItems.clone()
   }
   ...
 }
 </pre>
 You would typically use this style only for base classes where you didn't
 want the normal <CODE>Object</CODE> <CODE>clone()</CODE> method to be called and
 you would typically need to use the <CODE>SIMPLE</CODE> style for any child classes.
 <p>
 As a final example, if your class already implements the <CODE>Serializable</CODE>
 or <CODE>Externalizable</CODE> interface, you can choose the following cloning style:
 <pre>
 <CODE>@AutoClone(style=SERIALIZATION)</CODE>
 class Person implements Serializable {
   String first, last
   Date birthday
 }
 </pre>
 which outputs a class with the following form:
 <pre>
 class Person implements Cloneable, Serializable {
   ...
   Object clone() throws CloneNotSupportedException {
     def baos = new ByteArrayOutputStream()
     baos.withObjectOutputStream{ it.writeObject(this) }
     def bais = new ByteArrayInputStream(baos.toByteArray())
     bais.withObjectInputStream(getClass().classLoader){ it.readObject() }
   }
   ...
 }
 </pre>
 This will output an error if your class doesn't implement one of
 <CODE>Serializable</CODE> or <CODE>Externalizable</CODE>, will typically be
 significantly slower than the other approaches, also doesn't
 allow fields to be final, will take up more memory as even immutable classes
 like String will be cloned but does have the advantage that it performs
 deep cloning automatically.
 <p>
 Further references on cloning:
 <ul>
 <li><a href="http://www.codeguru.com/java/tij/tij0128.shtml">http://www.codeguru.com/java/tij/tij0128.shtml</a>
 <li><a href="http://www.artima.com/objectsandjava/webuscript/ClonCollInner1.html">http://www.artima.com/objectsandjava/webuscript/ClonCollInner1.html</a>
 <li><a href="http://courses.dce.harvard.edu/~cscie160/JDCTipsCloning">http://courses.dce.harvard.edu/~cscie160/JDCTipsCloning</a>
 <li><a href="http://www.agiledeveloper.com/articles/cloning072002.htm">http://www.agiledeveloper.com/articles/cloning072002.htm</a>
 </ul>
 <DL><DT><B>Authors:</B></DT><DD>Paul King</DD></DL><DL><DT><B>See Also:</B></DT><DD><a href='../../groovy/transform/AutoCloneStyle.html' title='AutoCloneStyle'>AutoCloneStyle</a></DD><DD><a href='../../groovy/transform/AutoExternalize.html' title='AutoExternalize'>AutoExternalize</a></DD></DL><DL><DT><B>Since:</B></DT><DD>1.8.0</DD></DL>
</P>
<hr>


<!-- =========== NESTED CLASS SUMMARY =========== -->

<A NAME="nested_summary"><!-- --></A>


<!-- =========== ENUM CONSTANT SUMMARY =========== -->

<A NAME="enum_constant_summary"><!-- --></A>


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>


<!-- =========== PROPERTY SUMMARY =========== -->

<A NAME="property_summary"><!-- --></A>


<!-- =========== ELEMENT SUMMARY =========== -->


    
        <A NAME="required_element_summary"><!-- --></A>
        
        &nbsp;
    
        <A NAME="optional_element_summary"><!-- --></A>
        
            <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
            <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
            <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
            <B>Optional Element Summary</B></FONT></TH>
            </TR>
            
                
                <TR BGCOLOR="white" CLASS="TableRowColor">
                <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
                <CODE>java.lang.String</CODE></FONT></TD>
                <TD>
                    <CODE><B><A HREF="#excludes">excludes</A></B></CODE>
                    <BR>
                    <P>Comma separated list of property (and/or field) names to exclude from cloning.
 </P>
                </TD>
                </TR>
                
            
                
                <TR BGCOLOR="white" CLASS="TableRowColor">
                <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
                <CODE>boolean</CODE></FONT></TD>
                <TD>
                    <CODE><B><A HREF="#includeFields">includeFields</A></B></CODE>
                    <BR>
                    <P>Include fields as well as properties when cloning.</P>
                </TD>
                </TR>
                
            
                
                <TR BGCOLOR="white" CLASS="TableRowColor">
                <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
                <CODE>null</CODE></FONT></TD>
                <TD>
                    <CODE><B><A HREF="#style">style</A></B></CODE>
                    <BR>
                    <P>Style to use when cloning.
 </P>
                </TD>
                </TR>
                
            
            </TABLE>
        
        &nbsp;
    


<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>


<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<table BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
                    <TR CLASS="TableHeadingColor">
                    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2" CLASS="ClassHeadingFont">
                    <B>Method Summary</B></FONT></TH>
                    </TR>
                    </table>
                    &nbsp;<table BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
                <tr CLASS="TableSubHeadingColor"><th ALIGN="left" COLSPAN="2">
                <b>Methods inherited from class <a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html' title='Object'>Object</a></b>
                </th></tr>
                <tr class="TableRowColor"><td colspan='2'><a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#wait(long, int)' title='wait'>wait</a>, <a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#wait(long)' title='wait'>wait</a>, <a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#wait()' title='wait'>wait</a>, <a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object)' title='equals'>equals</a>, <a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#toString()' title='toString'>toString</a>, <a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#hashCode()' title='hashCode'>hashCode</a>, <a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#getClass()' title='getClass'>getClass</a>, <a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#notify()' title='notify'>notify</a>, <a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#notifyAll()' title='notifyAll'>notifyAll</a></td></tr>
                </table>
                &nbsp;

<P>

<!-- ============ ENUM CONSTANT DETAIL ========== -->

<A NAME="enum_constant_detail"><!-- --></A>


<!-- =========== FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>


<!-- =========== PROPERTY DETAIL =========== -->

<A NAME="prop_detail"><!-- --></A>


<!-- =========== ELEMENT DETAIL =========== -->

<A NAME="element_detail"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
    <B>Element Detail</B></FONT></TH>
    </TR>
    </TABLE>
    
        <A NAME="excludes"><!-- --></A><H3>excludes</H3>
        <PRE>public&nbsp;<a href='http://docs.oracle.com/javase/7/docs/api/java/lang/String.html' title='String'>String</a>[] <B>excludes</B></PRE>
        <DL>
        <DD> Comma separated list of property (and/or field) names to exclude from cloning.
 For convenience, a String with comma separated names can be used in addition
 to an array (using Groovy's literal list notation) of String values.
 <p>
 NOTE: When using the <CODE>CLONE</CODE> style, property (and/or field) copying might occur as part of
 calling <CODE>super.clone()</CODE> which will ignore this list. You can then use this list to
 streamline the provided <CODE>clone()</CODE> implementation by selecting which Cloneable properties
 (and/or fields) will have a subsequent call to their <CODE>clone()</CODE> method. If you have
 immutable properties (and/or fields) this can be useful as the extra <CODE>clone()</CODE> will
 not be necessary and cloning will be more efficient.
 <p>
 NOTE: This doesn't affect property (and/or field) copying that might occur as part
 of serialization when using the <CODE>SERIALIZATION</CODE> style, i.e. this flag is ignored;
 instead adjust your serialization code to include or exclude the desired
 properties (and/or fields) which should carry over during cloning.
 @default {}
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="includeFields"><!-- --></A><H3>includeFields</H3>
        <PRE>public&nbsp;boolean <B>includeFields</B></PRE>
        <DL>
        <DD> Include fields as well as properties when cloning.
 <p>
 NOTE: When using the <CODE>CLONE</CODE> style, field copying might occur as part of
 calling <CODE>super.clone()</CODE> and might be all you require; if you turn on
 this flag, the provided <CODE>clone()</CODE> implementation will also
 subsequently call <CODE>clone()</CODE> for each <CODE>Cloneable</CODE> field which can be
 useful if you have mutable fields.
 <p>
 NOTE: This doesn't affect field copying that might occur as part of
 serialization when using the <CODE>SERIALIZATION</CODE> style, i.e. this flag is ignored;
 instead adjust your serialization code to include or exclude your fields.
 @default false
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="style"><!-- --></A><H3>style</H3>
        <PRE>public&nbsp;<a href='../../groovy/transform/AutoCloneStyle.html'>AutoCloneStyle</a> <B>style</B></PRE>
        <DL>
        <DD> Style to use when cloning.
 @default AutoCloneStyle.CLONE
        </DD>
        <P>
        </DL>
        <HR>
    
    &nbsp;


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>


<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>


<!-- ========= END OF CLASS DATA ========= -->
<p>Copyright &amp;copy; 2003-2013 The Codehaus. All rights reserved.</p>
<hr>

</body>
</html>
