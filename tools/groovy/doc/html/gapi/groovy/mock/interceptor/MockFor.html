<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- **************************************************************** -->
<!-- *  PLEASE KEEP COMPLICATED EXPRESSIONS OUT OF THESE TEMPLATES, * -->
<!-- *  i.e. only iterate & print data where possible. Thanks, Jez. * -->
<!-- **************************************************************** -->

<html>
<head>
<!-- Generated by groovydoc (2.1.7) on Thu Sep 05 22:50:04 CEST 2013 -->
<title>MockFor (groovy 2.1.7 API)</title>
<meta name="date" content="2013-09-05">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="../../../groovy.ico" type="image/x-icon" rel="shortcut icon">
<link href="../../../groovy.ico" type="image/x-icon" rel="icon">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MockFor (groovy 2.1.7 API)";
    }
}
</script>
<noscript>
</noscript>

</head><body onload="windowTitle();" bgcolor="white">
<hr>

<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>

  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <!--<TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  -->
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Groovy 2.1.7</b>
</EM></TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><!--<FONT SIZE="-2">
&nbsp;<A HREF="../../../groovy/lang/ExpandoMetaClass.ExpandoMetaProperty.html" title="class in groovy.lang"><B>PREV CLASS</B></A>&nbsp;

&nbsp;<A HREF="../../../groovy/lang/GroovyClassLoader.html" title="class in groovy.lang"><B>NEXT CLASS</B></A></FONT>--></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?groovy/mock/interceptor/MockFor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MockFor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<script type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-frame.html"><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
  <A HREF="../../../allclasses-frame.html"><B>All Classes</B></A>
</noscript>

</FONT></TD>

</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#property_summary">PROPERTY</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#prop_detail">PROPERTY</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- ========= END OF TOP NAVBAR ========= -->


<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>

<FONT SIZE="-1">
groovy.mock.interceptor</FONT>
<BR>

<span CLASS="ClassTitleFont">[Groovy] Class MockFor</span></H2>
<pre><a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html' title='java.lang.Object'>java.lang.Object</a>
  <img src='../../../inherit.gif'>groovy.mock.interceptor.MockFor
</pre><hr>
<PRE>class MockFor

</PRE>

<P>
 MockFor supports (typically unit) testing of classes in isolation by allowing
 a strictly ordered expectation of the behavior of collaborators to be defined.

 A typical test scenario involves a class under test (CUT) and one or more
 collaborators. In such a scenario it is often desirable to just test the
 business logic of the CUT. One strategy for doing that is to replace
 the collaborator instances with simplified mock objects to help isolate out
 the logic in the CUT. MockFor allows such mocks to be created using
 meta-programming. The desired behavior of collaborators is defined as a
 behavior specification. The behavior is enforced and checked automatically.
 With MockFor, a mock's expectation is always sequence dependent and its use
 automatically ends with a verify().

 Typical usage is as follows:
 <pre>
 import groovy.mock.interceptor.MockFor

 class Person {
   String first, last
 }

 class Family {
   Person father, mother
   def nameOfMother() { "$mother.first $mother.last" }
 }

 def mock = new MockFor(Person)
 mock.demand.getFirst{ 'dummy' }
 mock.demand.getLast{ 'name' }
 mock.use {
   def mary = new Person(first:'Mary', last:'Smith')
   def f = new Family(mother:mary)
   assert f.nameOfMother() == 'dummy name'
 }
 </pre>
 Here, <code>Family</code> is our class under test and <code>Person</code> is the collaborator.
 We are using normal Groovy property semantics here; hence the statement
 <code>mother.last</code> causes a call to <code>mother.getLast()</code> to occur.

 The following features are supported:
 <ul>
 <li>typical mock style of failing early
 <li>mocks instance and class/static methods
 <li>mocks property access using normal getters and setters
 <li>mocks final methods and final Collaborators
 <li>mocks Groovy and Java Collaborators (Caller must normally be Groovy but see <code>proxyDelegateInstance()</code>)
 <li>can mock all objects of a given class (or a single Groovy object)
 <li>mocks even if Collaborator cannot be injected into the Caller
 <li>mocks even if Collaborator is not accessible on the Caller (no getter)
 <li>demanded calls specified via recording calls on the Demand object (EasyMock style).
 <li>cardinality specified as Integers or Ranges, default is 1..1; 'optional' can be achieved with 0..1
 <li>behavior specified via Closures, allowing static or calculated return values, throwing exceptions, asserting argument values, etc. (even tricky sequence constraints by sharing state in the testMethod scope between the behavior Closures)
 <li>matching parameter list specified via Closure's parameter list, supporting typed or untyped params, default params, and varargs.
 <li>not dependent on any external mock library
 <li>can mock constructors using an overloaded constructor for MockFor
 <li>can support an instance-style mode rather than the default behaviour-style mode using <code>proxyInstance()</code> and <code>proxyDelegateInstance()</code>
 <li>can support half-mocks using an <code>ignore</code> specification on the mock instead of a demand specification
 <li>can mock non-existing methods if desired
 </ul>

 See also: StubFor.
 <DL><DT><B>Authors:</B></DT><DD>Dierk Koenig</DD><DD>Paul King</DD></DL>
</P>
<hr>


<!-- =========== NESTED CLASS SUMMARY =========== -->

<A NAME="nested_summary"><!-- --></A>


<!-- =========== ENUM CONSTANT SUMMARY =========== -->

<A NAME="enum_constant_summary"><!-- --></A>


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>


<!-- =========== PROPERTY SUMMARY =========== -->

<A NAME="property_summary"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
    <B>Property Summary</B></FONT></TH>
    </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE><a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html' title='Class'>Class</a></CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#clazz">clazz</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE><a href='../../../groovy/mock/interceptor/Demand.html'>Demand</a></CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#demand">demand</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE><a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html' title='def'>def</a></CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#expect">expect</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE><a href='../../../groovy/mock/interceptor/Ignore.html'>Ignore</a></CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#ignore">ignore</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE><a href='http://docs.oracle.com/javase/7/docs/api/java/util/Map.html' title='Map'>Map</a></CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#instanceExpectations">instanceExpectations</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE><a href='../../../groovy/mock/interceptor/MockProxyMetaClass.html'>MockProxyMetaClass</a></CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#proxy">proxy</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
    </TABLE>
    &nbsp;


<!-- =========== ELEMENT SUMMARY =========== -->



<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#D5D5FF" CLASS="TableHeadingColor">
    <TD COLSPAN=2><FONT SIZE="+2">
    <B>Constructor Summary</B></FONT></TD>
    </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD>
            <CODE><B><a href="#MockFor(java.lang.Class, boolean)">MockFor</a></B>(<a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html' title='Class'>Class</a> clazz, boolean interceptConstruction = false)</CODE>
            <BR>
            <P>The optional <code>interceptConstruction</code> flag allows mocking of
 constructor calls. </P>
        </TD>
        </TR>
    
    </TABLE>
    &nbsp;


<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2" CLASS="ClassHeadingFont">
    <B>Method Summary</B></FONT></TH>
    </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>static&nbsp;<a href='../../../groovy/lang/GroovyObject.html'>GroovyObject</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#getInstance(java.lang.Class, def)">getInstance</a></b>(<a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html' title='Class'>Class</a> clazz, <a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html' title='def'>def</a> args)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html' title='def'>def</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#ignore(java.lang.Object, groovy.lang.Closure)">ignore</a></b>(<a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html' title='Object'>Object</a> filter, <a href='../../../groovy/lang/Closure.html'>Closure</a> filterBehavior = null)</CODE>
            <BR>
            <P>Allows particular method calls to be ignored and not treated as part of
 the required behavior specification. </P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../groovy/lang/GroovyObject.html'>GroovyObject</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#makeProxyInstance(def, boolean)">makeProxyInstance</a></b>(<a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html' title='def'>def</a> args, boolean isDelegate)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../groovy/lang/GroovyObject.html'>GroovyObject</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#proxyDelegateInstance(def)">proxyDelegateInstance</a></b>(<a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html' title='def'>def</a> args = null)</CODE>
            <BR>
            <P>Allows a more traditional instance-style mocking paradigm. </P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE><a href='../../../groovy/lang/GroovyObject.html'>GroovyObject</a></CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#proxyInstance(def)">proxyInstance</a></b>(<a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html' title='def'>def</a> args = null)</CODE>
            <BR>
            <P>Allows a more traditional instance-style mocking paradigm. </P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#use(groovy.lang.Closure)">use</a></b>(<a href='../../../groovy/lang/Closure.html'>Closure</a> closure)</CODE>
            <BR>
            <P>Identifies the Closure where the mocked collaborator behavior
 will be applied and verified.</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#use(groovy.lang.GroovyObject, groovy.lang.Closure)">use</a></b>(<a href='../../../groovy/lang/GroovyObject.html'>GroovyObject</a> obj, <a href='../../../groovy/lang/Closure.html'>Closure</a> closure)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#verify(groovy.lang.GroovyObject)">verify</a></b>(<a href='../../../groovy/lang/GroovyObject.html'>GroovyObject</a> obj)</CODE>
            <BR>
            <P>If manual verification is required</P>
        </TD>
        </TR>
    
    </TABLE>
    &nbsp;
<table BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
                <tr CLASS="TableSubHeadingColor"><th ALIGN="left" COLSPAN="2">
                <b>Methods inherited from class <a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html' title='Object'>Object</a></b>
                </th></tr>
                <tr class="TableRowColor"><td colspan='2'><a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#wait(long, int)' title='wait'>wait</a>, <a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#wait(long)' title='wait'>wait</a>, <a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#wait()' title='wait'>wait</a>, <a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object)' title='equals'>equals</a>, <a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#toString()' title='toString'>toString</a>, <a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#hashCode()' title='hashCode'>hashCode</a>, <a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#getClass()' title='getClass'>getClass</a>, <a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#notify()' title='notify'>notify</a>, <a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#notifyAll()' title='notifyAll'>notifyAll</a></td></tr>
                </table>
                &nbsp;

<P>

<!-- ============ ENUM CONSTANT DETAIL ========== -->

<A NAME="enum_constant_detail"><!-- --></A>


<!-- =========== FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>


<!-- =========== PROPERTY DETAIL =========== -->

<A NAME="prop_detail"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
    <B>Property Detail</B></FONT></TH>
    </TR>
    </TABLE>
    
        <A NAME="clazz"><!-- --></A><H3>clazz</H3>
        <PRE><a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html' title='Class'>Class</a> <B>clazz</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="demand"><!-- --></A><H3>demand</H3>
        <PRE><a href='../../../groovy/mock/interceptor/Demand.html'>Demand</a> <B>demand</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="expect"><!-- --></A><H3>expect</H3>
        <PRE><a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html' title='def'>def</a> <B>expect</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="ignore"><!-- --></A><H3>ignore</H3>
        <PRE><a href='../../../groovy/mock/interceptor/Ignore.html'>Ignore</a> <B>ignore</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="instanceExpectations"><!-- --></A><H3>instanceExpectations</H3>
        <PRE><a href='http://docs.oracle.com/javase/7/docs/api/java/util/Map.html' title='Map'>Map</a> <B>instanceExpectations</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="proxy"><!-- --></A><H3>proxy</H3>
        <PRE><a href='../../../groovy/mock/interceptor/MockProxyMetaClass.html'>MockProxyMetaClass</a> <B>proxy</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
    &nbsp;


<!-- =========== ELEMENT DETAIL =========== -->

<A NAME="element_detail"><!-- --></A>


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
    <B>Constructor Detail</B></FONT></TH>
    </TR>
    </TABLE>
    
        <A NAME="MockFor(java.lang.Class, boolean)"><!-- --></A><H3>
        MockFor</H3>
        <PRE><B>MockFor</B>(<a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html' title='Class'>Class</a> clazz, boolean interceptConstruction = false)</PRE>
        <DL>
        <DD> The optional <code>interceptConstruction</code> flag allows mocking of
 constructor calls. These are represented in the demand specification
 using the class name as this example shows:
 <pre>
 import groovy.mock.interceptor.MockFor
 class Person {
   String first, last
 }
 def interceptConstructorCalls = true
 def mock = new MockFor(Person, interceptConstructorCalls)
 def dummy = new Person(first:'Tom', last:'Jones')
 mock.demand.with {
   Person() { dummy } // expect constructor call, return dummy
   getFirst() {'John'}
   getLast() {'Doe'}
 }
 mock.use {
   def p = new Person(first:'Mary', last:'Smith')
   assert p.first == 'John'
   assert p.last == 'Doe'
 }
 </pre>
     
        </DD>
        <P>
        </DL>
        <HR>
    
    &nbsp;


<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
    <B>Method Detail</B></FONT></TH>
    </TR>
    </TABLE>
    
        <A NAME="getInstance(java.lang.Class, def)"><!-- --></A><H3>
        getInstance</H3>
        <PRE>static&nbsp;<a href='../../../groovy/lang/GroovyObject.html'>GroovyObject</a> <B>getInstance</B>(<a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Class.html' title='Class'>Class</a> clazz, <a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html' title='def'>def</a> args)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="ignore(java.lang.Object, groovy.lang.Closure)"><!-- --></A><H3>
        ignore</H3>
        <PRE><a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html' title='def'>def</a> <B>ignore</B>(<a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html' title='Object'>Object</a> filter, <a href='../../../groovy/lang/Closure.html'>Closure</a> filterBehavior = null)</PRE>
        <DL>
        <DD> Allows particular method calls to be ignored and not treated as part of
 the required behavior specification. If you don't specify a return closure
 the method call will fall through to the underlying instance, i.e. half-mock style.
 The <code>filter</code> object is invoked using the normal Groovy <code>isCase()</code> semantics.

 Here are some examples:
 <pre>
 import groovy.mock.interceptor.MockFor
 class Person {
   String first, last
   def name() { "$first $last" }
   def ignoreMe() { 'baz' }
   def ignoreMeToo() { ignoreMe() }
   def ignoreMeThree() { ignoreMe() }
 }
 def mock = new MockFor(Person)
 mock.ignore(~'get.*')
 mock.ignore('ignoreMeToo') { 'boo' }
 mock.ignore(~'ignoreMe.*')
 mock.demand.name{ 'John' }
 mock.use {
   def p = new Person(first:'Mary', last:'Smith')
   assert p.first == 'Mary'
   assert p.last == 'Smith'
   assert p.name() == 'John'
   assert p.ignoreMe() == 'baz'
   assert p.ignoreMeToo() == 'boo'
   assert p.ignoreMeThree() == 'baz'
 }
 </pre>
 There is also a convenience form of ignore that matches the same style as
 demand. E.g. instead of <code>mock.ignore('hasNext')</code> you can use
 <code>mock.ignore.hasNext()</code>. A Closure variation is also provided.
 This convenience shorthand only applies to the <code>String</code> form of ignore
 and cannot be used with methods from <code>java.lang.Object</code>.

 Be careful using this feature while mocking some of the fundamental Java
 classes like <code>String</code> or <code>Pattern</code>. As these are used within the
 implementation of the ignore capability, strange behavior may be observed.
     
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="makeProxyInstance(def, boolean)"><!-- --></A><H3>
        makeProxyInstance</H3>
        <PRE><a href='../../../groovy/lang/GroovyObject.html'>GroovyObject</a> <B>makeProxyInstance</B>(<a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html' title='def'>def</a> args, boolean isDelegate)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="proxyDelegateInstance(def)"><!-- --></A><H3>
        proxyDelegateInstance</H3>
        <PRE><a href='../../../groovy/lang/GroovyObject.html'>GroovyObject</a> <B>proxyDelegateInstance</B>(<a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html' title='def'>def</a> args = null)</PRE>
        <DL>
        <DD> Allows a more traditional instance-style mocking paradigm. This is the
 recommended method to call to use the instance-style with Java classes.

 When mocking interfaces or abstract classes, a compatible proxy instance
 will be returned. When mocking Java classes, a compatible Groovy
 class will be generated and proxy instance returned. A MockProxyMetaClass
 will be instantiated for the class of the instance (i.e. may be on the
 generated class not the original class).
     
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="proxyInstance(def)"><!-- --></A><H3>
        proxyInstance</H3>
        <PRE><a href='../../../groovy/lang/GroovyObject.html'>GroovyObject</a> <B>proxyInstance</B>(<a href='http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html' title='def'>def</a> args = null)</PRE>
        <DL>
        <DD> Allows a more traditional instance-style mocking paradigm. This is the
 recommended method to call to use the instance-style with Groovy classes.

 When mocking interfaces or abstract classes, a compatible proxy instance
 will be returned. When mocking Java classes, a compatible Groovy
 class will be generated and proxy instance returned. A MockProxyMetaClass
 will be instantiated for the original class.

 Typical example:
 <pre>
 import groovy.mock.interceptor.MockFor

 class Person {
   String first, last
 }

 class Family {
   Person mother, father
   String nameOfMother() { fullName(mother) }
   String nameOfFather() { fullName(father) }
   private fullName(p) { "$p.first $p.last" }
 }

 def mock = new MockFor(Person)
 mock.demand.with {
   getFirst{ 'dummy' }
   getLast{ 'name' }
 }
 Person john = mock.proxyInstance()
 Person mary = mock.proxyInstance()
 Family f = new Family(father:john, mother:mary)
 assert f.nameOfFather() == 'dummy name'
 assert f.nameOfMother() == 'dummy name'
 [john, mary].each{ mock.verify(it) }
 </pre>
 Normally for mocks, <code>verify()</code> is call automatically at the end of the "use" Closure,
 but with this style, no "use" Closure is present, so <code>verify()</code> must be called manually.
     
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="use(groovy.lang.Closure)"><!-- --></A><H3>
        use</H3>
        <PRE>void <B>use</B>(<a href='../../../groovy/lang/Closure.html'>Closure</a> closure)</PRE>
        <DL>
        <DD> Identifies the Closure where the mocked collaborator behavior
 will be applied and verified.
     
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="use(groovy.lang.GroovyObject, groovy.lang.Closure)"><!-- --></A><H3>
        use</H3>
        <PRE>void <B>use</B>(<a href='../../../groovy/lang/GroovyObject.html'>GroovyObject</a> obj, <a href='../../../groovy/lang/Closure.html'>Closure</a> closure)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="verify(groovy.lang.GroovyObject)"><!-- --></A><H3>
        verify</H3>
        <PRE>void <B>verify</B>(<a href='../../../groovy/lang/GroovyObject.html'>GroovyObject</a> obj)</PRE>
        <DL>
        <DD> If manual verification is required
     
        </DD>
        <P>
        </DL>
        <HR>
    
    &nbsp;


<!-- ========= END OF CLASS DATA ========= -->
<p>Copyright &amp;copy; 2003-2013 The Codehaus. All rights reserved.</p>
<hr>

</body>
</html>
